!function(t,e){var r="click_id",o="__tr_clid",n="tr_utm_camp",a="__tr_utms",i="__tr_utmd",c="__tr_isnu",s="__tr_db",u="__tr_jr",f="2.5",l="session_store",m=function(){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e){var r,o,n,a,i,c,s,u="",f=0;for(e=function(t){var e,r,o="";for(t=t.replace(/\r\n/g,"\n"),r=0;r<t.length;r++)(e=t.charCodeAt(r))<128?o+=String.fromCharCode(e):e>127&&e<2048?(o+=String.fromCharCode(e>>6|192),o+=String.fromCharCode(63&e|128)):(o+=String.fromCharCode(e>>12|224),o+=String.fromCharCode(e>>6&63|128),o+=String.fromCharCode(63&e|128));return o}(e);f<e.length;)a=(r=e.charCodeAt(f++))>>2,i=(3&r)<<4|(o=e.charCodeAt(f++))>>4,c=(15&o)<<2|(n=e.charCodeAt(f++))>>6,s=63&n,isNaN(o)?c=s=64:isNaN(n)&&(s=64),u+=t.charAt(a),u+=t.charAt(i),u+=t.charAt(c),u+=t.charAt(s);return u},decode:function(e){var r,o,n,a,i,c,s="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)r=t.indexOf(e.charAt(u++))<<2|(a=t.indexOf(e.charAt(u++)))>>4,o=(15&a)<<4|(i=t.indexOf(e.charAt(u++)))>>2,n=(3&i)<<6|(c=t.indexOf(e.charAt(u++))),s+=String.fromCharCode(r),64!==i&&(s+=String.fromCharCode(o)),64!==c&&(s+=String.fromCharCode(n));return function(t){for(var e="",r=0,o=0,n=0,a=0;r<t.length;)(o=t.charCodeAt(r))<128?(e+=String.fromCharCode(o),r++):o>191&&o<224?(n=t.charCodeAt(r+1),e+=String.fromCharCode((31&o)<<6|63&n),r+=2):(n=t.charCodeAt(r+1),a=t.charCodeAt(r+2),e+=String.fromCharCode((15&o)<<12|(63&n)<<6|63&a),r+=3);return e}(s)}}}();function d(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function p(){return t.localStorage?t.localStorage.getItem(s)==l:h(s)==l}function g(e){if(p())return t.sessionStorage?t.sessionStorage.getItem(e):"";var r=h(e);return!r&&t.localStorage&&(r=t.localStorage.getItem(e)),r}function h(t){var r=e.cookie.split("; "),o=null;return r.forEach((function(e){if(0===e.indexOf(t+"="))return o=e.split("=")[1],!1})),o}function _(t){var e=[];["sub1","sub2","sub3","sub4","sub5","sub6","sub7","sub8","sub9","sub10","user_id","txn_id","goal_value","goal_id","status","coupon_code","currency","product_id","product_sku","product_quantity","is_new_user","store_name","season","order_date"].forEach((function(r){var o=t&&t[r]||"";o&&"string"==typeof o&&e.push(r+"="+encodeURIComponent(o))}));var r={};r[a]="utms",r[i]="utmd",r[n]="utmc",r[u]="j",[a,i,n,u].forEach((function(t){var o=g(t);o&&"string"==typeof o&&e.push(r[t]+"="+encodeURIComponent(o))}));var o=t?t.sale_amount:null;if("string"==typeof o){o=o.replace(/,/g,"");var c=Number(o);isNaN(c)||e.push("sale_amount="+c)}else"number"==typeof o&&e.push("sale_amount="+o);return e.push("__v="+f),e.push("s=websdk"),e}function S(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}function v(e,r,o,n){t.Sentry.captureException(e,(function(e){return e.clear(),r&&e.setExtra("tdomain",r),o&&e.setExtra("token",o),n&&e.setExtra("opts",JSON.stringify(n)),e.setExtra("href",t.location.href),e.setExtra("user_agent",navigator.userAgent),e}))}function y(r,o,n,a){if(t.Sentry)t.Sentry&&"6.19.7"==t.Sentry.SDK_VERSION&&v(r,o,n,a);else{var i=e.createElement("script");i.onload=function(){t.Sentry.init({dsn:"https://6e98a7359b29fa1e566c00f891e415c9@o156739.ingest.sentry.io/4506630567100416",defaultIntegrations:!1}),v(r,o,n,a)},i.src="https://browser.sentry-cdn.com/6.19.7/bundle.min.js",e.body.appendChild(i)}}function C(t,e,r){if(r.debug||"kama.gotrackier.com"==t){var o=_(r).join("&"),n=E(),a=r&&r.is_camp;fetch("https://logs.cloudstuff.tech/?"+(a?"adid":"av")+"="+e+"&"+o+"&click_id="+n).then((function(t){})).catch((function(o){console.log("[log.ERROR TrackierWebSDK] Additional logging failed"),y(o,t,e,r)}))}}function b(r,o,n){var a=n&&n.is_iframe||n&&n.isIframe?"iframe":"image",i=n&&n.order_date||"";if(!i&&t.Shopify&&t.Shopify.checkout&&(i=t.Shopify.checkout.updated_at||t.Shopify.checkout.created_at),i&&n&&(n.order_date=i,!function(t){try{var e=new Date(t);if(!e.toJSON())return!0;var r=new Date;return S(r)==S(e)&&(r.getTime()-e.getTime())/1e3<86400}catch(t){return!0}}(i)))console.log("[log.INFO TrackierWebSDK] Skip order tracking as it is not of current date");else{var c=_(n).join("&"),s=E(),u="https://"+r+"/pixel?"+(n&&n.is_camp?"adid":"av")+"="+o+"&"+c+"&click_id="+s;if("iframe"==a){var f=e.createElement("iframe");f.setAttribute("src",u),f.style.display="none",e.body.appendChild(f)}else{(new Image).src=u}}}function k(t,e,r){try{b(t,e,r)}catch(o){r&&r.capture_error&&y(o,t,e,r)}}function I(u){var f,m,p,g=d("utm_source");if(f=e.referrer,m=d("gclid"),p=d("fbclid"),(/^https:\/\/www\.google\./.test(f)||"https://www.google.com/"==f||"https://www.bing.com/"==f||"https://search.yahoo.com/"==f||"https://in.search.yahoo.com/"==f||/search\.yahoo\.com/.test(f)||"string"==typeof m&&m.length>10||"string"==typeof p&&p.length>10)&&!g)return e.cookie=r+"=;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT",e.cookie=o+"=;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT",e.cookie=n+"=;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT",e.cookie=a+"=;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT",e.cookie=i+"=;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT",e.cookie=c+"=;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT",t.sessionStorage&&(t.sessionStorage.removeItem(r),t.sessionStorage.removeItem(o),t.sessionStorage.removeItem(n),t.sessionStorage.removeItem(a),t.sessionStorage.removeItem(i),t.sessionStorage.removeItem(c)),t.localStorage&&(t.localStorage.removeItem(r),t.localStorage.removeItem(o),t.localStorage.removeItem(n),t.localStorage.removeItem(a),t.localStorage.removeItem(i),t.localStorage.removeItem(c)),void x("organic");t.localStorage&&(u==l?t.localStorage.setItem(s,l):t.localStorage.setItem(s,"ck")),T(d("click_id"),d("utm_campaign"))}function w(e){var r=JSON.stringify(e);t.btoa?A(u,t.btoa(r)):A(u,m.encode(r))}function x(e){if(e){var r=function(t){var e=new Date,r={utms:t||d("utm_source"),ts:e.toJSON()},o=d("utm_campaign");o&&(r.utmc=o);var n=d("utm_medium");return n&&(r.utmd=n),r}(e),o=g(u);o?function(e,r){try{var o;o=t.atob?t.atob(r):m.decode(r);var n=JSON.parse(o);n||(n=[]);var a=n[n.length-1];if(a.utms==e.utms&&(!e.utmc||e.utmc==a.utmc))return a.ts=e.ts,a.utmd=e.utmd,a.utmc=e.utmc,n[n.length-1]=a,void w(n);n.length>=5&&n.shift(),n.push(e),w(n)}catch(t){y(t)}}(r,o):w([r])}}function T(t,e){var r=d("utm_source"),c=g(a);r&&c!=r&&!e&&(e="__EMPTY__"),x(r),A(o,t),A(n,e),A(a,r),A(i,d("utm_medium"))}function A(r,o){p()?t.sessionStorage&&t.sessionStorage.setItem(r,o):(!function(t,r){var o=new Date;o.setTime(o.getTime()+31536e6),r&&(e.cookie=t+"="+r+";path=/;expires="+o.toUTCString())}(r,o),t.localStorage&&t.localStorage.setItem(r,o))}function E(){var t=g(o);return t||(g(r)||"")}var N=function(){function t(){}return t.prototype.init=function(t){I(t)},t.prototype.clickPixelCb=function(t){T(t.click_id,"trackier_")},t.prototype.hasSessionId=function(){var t=E();return t&&"string"==typeof t&&24===t.length},t.prototype.getTrackingToken=function(){return E()||""},t.prototype.getVersion=function(){return f},t.prototype.setIsNewUser=function(t){A(c,!0===t?"true":"false")},t.prototype.isNewUser=function(t){return"true"==g(c)},t.prototype.trackClick=function(t,r){!function(t,r){var o=e.createElement("script"),n=d("campaign_id"),a=d("pub_id"),i=d("fbclid");if(n&&a){var c="https://"+t+"/click_pixel?campaign_id="+n+"&pub_id="+a;i&&(c+="&fbclid="+i),c+="&callback=window.TrackierWebSDK.clickPixelCb",o.setAttribute("src",c),o.setAttribute("type","text/javascript"),o.setAttribute("async",!0),e.body.appendChild(o)}}(t)},t.prototype.trackConv=function(t,e,r){k(t,e,r),C(t,e,r)},t.prototype.trackConvForBrand=function(t,e,r){var o;(o=g(n)||"",/^trackier_/i.test(o))?(k(t,e,r),C(t,e,r)):C(t,e,r)},t}();t.TrackierWebSDK=new N}(window,window.document);